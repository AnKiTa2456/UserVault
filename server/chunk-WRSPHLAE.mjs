import './polyfills.server.mjs';
import{a as V,b as x,c as W,d as I,e as P,f as T,g as k,h as L,i as q,j as B,k as F,m as D}from"./chunk-YNA2ON4H.mjs";import{Ab as b,Da as c,Ea as a,F as p,G as g,Ha as _,Ia as w,Ja as h,Y as s,aa as C,da as y,ha as f,kb as R,lb as E,oa as u,sa as r,ta as t,va as N,wa as S}from"./chunk-PKHAMJRK.mjs";import"./chunk-X2SEQXRR.mjs";function A(o,m){o&1&&(r(0,"div",18),a(1," First name is required. "),t())}function J(o,m){o&1&&(r(0,"div",18),a(1," Last name is required. "),t())}function O(o,m){o&1&&(r(0,"div",18),a(1," Enter a valid email. "),t())}function U(o,m){o&1&&(r(0,"div",18),a(1," Password is required (min 8 characters). "),t())}var j=class o{constructor(m,d){this._snackbar=m;this._router=d}user=new F;onRegister(){if(!this.user.firstName?.trim()||!this.user.lastName?.trim()||!this.user.email?.trim()||!this.user.password?.trim()){this._snackbar.open("Please fill all fields","Close",{duration:3e3});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.user.email)){this._snackbar.open("Please enter a valid email","Close",{duration:3e3});return}if(!/^(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(this.user.password)){this._snackbar.open("Password must be at least 8 characters and contain at least one special character","Close",{duration:4e3});return}let i=localStorage.getItem("users"),n=i?JSON.parse(i):[];if(n.some(e=>e.email.toLowerCase()===this.user.email.toLowerCase())){this._snackbar.open("Email is already registered","Close",{duration:3e3});return}n.push(this.user),localStorage.setItem("users",JSON.stringify(n)),this._snackbar.open("Registration successful! Please login.","Close",{duration:3e3}),this._router.navigateByUrl("/login-signup")}static \u0275fac=function(d){return new(d||o)(C(D),C(b))};static \u0275cmp=y({type:o,selectors:[["app-register"]],decls:31,vars:9,consts:[["registerForm","ngForm"],["firstName","ngModel"],["lastName","ngModel"],["email","ngModel"],["password","ngModel"],[1,"register-container"],["novalidate","",3,"ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","minlength","8",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(d,i){if(d&1){let n=N();r(0,"div",5)(1,"h2"),a(2,"Register"),t(),r(3,"form",6,0),S("ngSubmit",function(){return p(n),g(i.onRegister())}),r(5,"div",7)(6,"label",8),a(7,"First Name:"),t(),r(8,"input",9,1),h("ngModelChange",function(e){return p(n),w(i.user.firstName,e)||(i.user.firstName=e),g(e)}),t(),f(10,A,2,0,"div",10),t(),r(11,"div",7)(12,"label",11),a(13,"Last Name:"),t(),r(14,"input",12,2),h("ngModelChange",function(e){return p(n),w(i.user.lastName,e)||(i.user.lastName=e),g(e)}),t(),f(16,J,2,0,"div",10),t(),r(17,"div",7)(18,"label",13),a(19,"Email:"),t(),r(20,"input",14,3),h("ngModelChange",function(e){return p(n),w(i.user.email,e)||(i.user.email=e),g(e)}),t(),f(22,O,2,0,"div",10),t(),r(23,"div",7)(24,"label",15),a(25,"Password:"),t(),r(26,"input",16,4),h("ngModelChange",function(e){return p(n),w(i.user.password,e)||(i.user.password=e),g(e)}),t(),f(28,U,2,0,"div",10),t(),r(29,"button",17),a(30,"Register"),t()()()}if(d&2){let n=c(4),l=c(9),e=c(15),M=c(21),v=c(27);s(8),_("ngModel",i.user.firstName),s(2),u("ngIf",l.invalid&&l.touched),s(4),_("ngModel",i.user.lastName),s(2),u("ngIf",e.invalid&&e.touched),s(4),_("ngModel",i.user.email),s(2),u("ngIf",M.invalid&&M.touched),s(4),_("ngModel",i.user.password),s(2),u("ngIf",v.invalid&&v.touched),s(),u("disabled",n.invalid)}},dependencies:[E,R,B,T,V,x,W,k,q,L,P,I],encapsulation:2})};export{j as RegisterComponent};
